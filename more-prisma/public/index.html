<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viliam Vidliƒçka - Find a Restaurant</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
</head>
<body>
    
    <header>
        <div class="header-container">
            <img src="/images/Vilko.png" alt="Logo" class="logo">
            <div class="header-text">
                <h1>Viliam Vidliƒçka</h1>
                <p>N√°jdi najlep≈°ie re≈°taur√°cie na Slovensku.</p>
            </div>
            <button id="menu-button" onclick="window.location.href='about.html'">O n√°s</button>
            <div id="dropdown-menu" class="dropdown">
                <a href="index.html">Domov</a>
                <a href="about.html">O n√°s</a>≈•
            </div>
        </div>
    </header>
    

    <main>
        <section class="filters">
            <label for="cuisine">Typ re≈°taur√°cie:</label>
            <select id="cuisine">
                <option>V≈°etky</option>
                <option>Tradiƒçn√© Slovensk√©</option>
                <option>Fast Food</option>
                <option>Steak House</option>
                <option>Luxusn√©</option>
                <option>Dom√°ci Fast Food</option>
                <option>√Åzia</option>
                <option>Talianske jedlo</option>
                <option>All-You-Can-Eat Buffet</option>
                <option>Bar</option>
                <option>Kaviare≈à</option>
            </select>

            <label for="location">Mesto:</label>
            <select id="location">
                <option>V≈°etky</option>
                <option>Bratislava</option>
                <option>Nitra</option>
                <option>Trnava</option>
                <option>≈Ωilina</option>
                <option>Trenƒç√≠n</option>
                <option>Banska Bystrica</option>
                <option>Ko≈°ice</option>
                <option>Pre≈°ov</option>
            </select>
            <button id="search">Hlada≈•</button>
        </section>

        <section class="results">
            <h2>Dostupn√© re≈°taur√°cie</h2>
            <p>Vyber typ re≈°taur√°cie a mesto aby si videl re≈°taur√°cie.</p>
        </section>
        <script>
            document.getElementById('search').addEventListener('click', async () => {
                const cuisine = document.getElementById('cuisine').value;
                const location = document.getElementById('location').value;

                try {
                    const response = await fetch(`/search?cuisine=${encodeURIComponent(cuisine)}&location=${encodeURIComponent(location)}`);
                    const restaurants = await response.json();

                    const resultsSection = document.querySelector('.results');
                    resultsSection.innerHTML = '<h2>Dostupn√© re≈°taur√°cie</h2>';

                    if (restaurants.length > 0) {
                        const list = document.createElement('ul');
                        restaurants.forEach(restaurant => {
                            const listItem = document.createElement('li');
                            const rating = restaurant.rating ? `${restaurant.rating}/5` : 'Bez hodnotenia';
                            listItem.innerHTML = `
                                <strong>${restaurant.name}</strong><br>
                                üè† ${restaurant.location}<br>
                                üçΩÔ∏è ${restaurant.cuisine}<br>
                                ‚≠ê ${rating}
                            `;
                            list.appendChild(listItem);
                        });
                        resultsSection.appendChild(list);
                    } else {
                        resultsSection.innerHTML += '<p>≈Ωiadne re≈°taur√°cie neboli n√°jden√©.</p>';
                    }
                } catch (error) {
                    console.error('Error:', error);
                }
            });
        </script>
    </main>
</body>
</html>